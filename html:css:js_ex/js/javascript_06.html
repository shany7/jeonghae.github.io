<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="utf-8">
<title>hello world!</title>
<link rel="stylesheet" media="all" href="" />
<style>
* { margin:0; padding:0;}
#photo_list { border: 2px solid lime; padding:20px; overflow:hidden;}
#photo_list > li {float: left; border:2px solid orange; padding:20px; list-style: none;}
#photo_list > li.on { background-color: yellow;}
#photo_list > li > a { border:2px solid black; padding:10px; }

ul li.on { background-color: lime;}
.list_item {border:1px solid red;}  

</style>


</head>
<body>
    <ul id="photo_list">
        <li><a href="#">건물</a></li>
        <li><a href="#">커피</a></li>
        <li><a href="#">불꽃놀이</a></li>
        <li><a href="#" onclick = "console.log('dsfsdf')">장미</a></li>
    </ul>
  
    <div id="service">
            <h2><a href="#" >차량 서비스</a></h2>
            <ul title="인기서비스">
                <li>세차</li>
                <li>주유</li>
                <li>소모품교체</li>
            </ul>
    </div>

    <h1>나의 사진첩</h1> 
    <ul id="photo"> 
        <li><a href="images/bigben.jpg" title="멋진 건물">건물</a></li> 
        <li><a href="images/coffee.jpg" title="향기로운 커피">커피</a></li>
        <li><a href="images/fireworks.jpg" title="화려한 불꽃놀이">불꽃놀이</a> </li> 
        <li><a href="images/rose.jpg" title="아름다운 장미">장미</a></li> 
    </ul>

    <img id="placeholder" src="http://placehold.it/300x200"/>
    <p id ="desc"> 사진설명입니다.</p>
<script>
    var photo_ul = document.querySelector("#photo");
    var photo_link = photo_ul.querySelectorAll("li a");
    var photo_img = document.querySelector("#placeholder");
    var photo_p = document.querySelector("#desc");

    photo_ul.addEventListener("click", change_img);

    function change_img (e) {
        photo_img.src = e.target.href;
        photo_p.textContent = e.target.title;           // text는 가져오는것만됨. textContent 는 쓰고 읽기 둘다 가능.
        // photo_p.innerHTML = e.target.title;
        e.preventDefault();
       
    }

    var car_service = document.querySelector("#service > h2 > a");
    var car_ul = document.querySelector("#service ul");
    var car_li = document.querySelectorAll("#service li");

    car_ul.addEventListener("click", todo);

    function todo (event) {
        event.target.classList.add("on");
    }
    car_service.onclick = function () {
        for ( var i = 0; i < car_li.length; i++) {
            car_li[i].setAttribute("class", "list_item");
        }
    };

    // 리스너장치 하나만 사용 ( div 에 다가 )
    // function todo (event) {
    //     if(event.target.tagName === "A"){
    //         for(var i = 0; i < car_li.length; i++) {
    //             car_li[i].classList.add("list_item");
    //         }
    //     }
    //     else if (event.target.tagName === "LI") {
    //         for(var i = 0; i < car_li.length; i++) {
    //             car_li[i].classList.add("on");
    //         }
    //     }
    // }
    
    // var bodyEl = document.querySelector("body");
    // var target = document.querySelector("#photo_list");
    // var aEls = target.querySelectorAll("a");

    // target.onclick = function () {                          // 버블링만 됨. 
    //     console.log("ul ul ul ul ul");
    // };
    
//     window.addEventListener("click",win_todo, false);
//     bodyEl.addEventListener("click",body_todo, false);
//     target.addEventListener("click", todo, false);              // 버블링 되면서 ul에서 감지, 디폴트가 버블링. true -> 캡쳐링 단계에서 감지로 변경.
// //    for ( var i = 0; i < aEls.length ; i++) { 
// //        aEls[i].addEventListener("click", todo);
// //    } 
//     function win_todo() {
//         console.log("window");
//     }
//     function body_todo() {
//         console.log("body");
//     }
//     function todo( event ) {
//         if (event.target.tagName !== "A"){
//            return;
//         }
//         event.target.parentNode.classList.add("on");
//         console.log(event.eventPhase);               // 1:캡쳐링 2:리스너달린곳 3:버블링
//         console.log("ul");
//         event.stopPropagation();                    // 버블링 스탑
//     }
//    if (true) {
//        target.removeEventListener("click", todo, true);
//    }
</script>
</body>
</html>